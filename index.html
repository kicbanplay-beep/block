<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>WebSocket Test</title>
</head>
<body>
    <h1>WebSocket Test</h1>
    <input id="msg" placeholder="Type message">
    <button onclick="sendMessage()">Send</button>
    <ul id="log"></ul>

    <script>
        // Подключаемся к серверу
        const ws = new WebSocket("wss://rdr-io.onrender.com");

        ws.onopen = () => {
            console.log("Connected to WebSocket server");
            addLog("Connected!");
        };

        ws.onmessage = (event) => {
            console.log("Received:", event.data);
            addLog(event.data);
        };

        ws.onclose = () => {
            console.log("WebSocket closed");
            addLog("Disconnected!");
        };

        function sendMessage() {
            const input = document.getElementById("msg");
            if (ws.readyState === WebSocket.OPEN) {
                ws.send(input.value);
                input.value = "";
            } else {
                alert("WebSocket is not open");
            }
        }

        function addLog(msg) {
            const log = document.getElementById("log");
            const li = document.createElement("li");
            li.textContent = msg;
            log.appendChild(li);
        }
    </script>
</body>
</html>
